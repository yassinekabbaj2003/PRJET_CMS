var ajaxFilters;!function(w){"use strict";var v,a,r,s,o;ajaxFilters={init:function(){v={in_progress:!1,categories:!1,apply_all_button:!1},a=w(".elementor-location-archive").length,r=a?".elementor-location-archive":".content-page",s=["woocommerce-archive-etheme_grid_list","woocommerce-etheme_archive_products","etheme_product_grid[data-settings*=current_query]","etheme_product_list[data-settings*=current_query]"],["etheme_sidebar","etheme_sidebar_horizontal","etheme_sidebar_horizontal_toggle","theme-archive-etheme_title","woocommerce-archive-etheme_description","woocommerce-archive-etheme_description_second","woocommerce-etheme_breadcrumb"].concat(s),o=null,this.ajaxFilters()},ajaxFilters:function(){if("undefined"!=typeof EthemeApplyFilters&&EthemeApplyFilters.is_loaded||!etAjaxFiltersConfig.woocommerceSettings.ajax_filters)v.apply_all_button=!0;else{let e=r+" .etheme-ajax-filter,"+r+" .etheme_swatches_filter ul li a,"+r+" .woocommerce-widget-layered-nav ul li a,"+r+" .widget_rating_filter ul li a, "+r+" .widget_layered_nav_filters ul li a,"+r+" .etheme-price-filter li a"+r+" .etheme-price-filter button";function t(e){let t="";if(e.hasClass("dropdown_product_brand")||e.hasClass("dropdown_product_cats")){if(!(t=e.find("option:selected").data("url")))return}else t=e.attr("href");var i,a=e.parents(".etheme_widget_brands_filter"),e=e.parents(".etheme_widget_cats_filter");a.hasClass("on_brand")||e.hasClass("on_cat")?(i="",a.hasClass("on_brand")&&(i=a.attr("data-shop-url")),i=function(i,e){let a=function(e){var t={},i=document.createElement("a"),e=(i.href=e,i.search.substring(1)),a=e.split("&");for(let e=0;e<a.length;e++){var r=a[e].split("=");t[r[0]]=decodeURIComponent(r[1])}return t}(e),r=0;return i+="?",w.each(a,function(e,t){r++,i=Object.keys(a).length>r?i+e+"="+t+"&":i+e+"="+t}),i}(i=e.hasClass("on_cat")?e.attr("data-shop-url"):i,t),ajaxFilters.load_data(i)):ajaxFilters.load_data(t)}etAjaxFiltersConfig.ajax_categories&&(e+=","+r+" .widget_product_categories ul li a"),w(document).on("click",e,function(i){if(i.preventDefault(),!v.in_progress){let e=w(this).attr("href"),t=window.location.href;w(this).parents(".sidebar-widget").hasClass("widget_product_categories")&&(v.categories=!0),w(this).hasClass("remove-brand")||w(this).parents(".widget_layered_nav_filters").hasClass("etheme-active-filters")||1<t.indexOf("filter_brand")&&(i=new URL(t).searchParams.get("filter_brand"),e=e.replace("?","?filter_brand="+i+"&")),ajaxFilters.load_data(e)}}),w(document).on("change",r+" .dropdown_product_brand,"+r+" .dropdown_product_cats",function(e){e.preventDefault(),t(w(this))}),w(document).on("click",r+" .etheme_widget_brands_filter ul li a,"+r+" .etheme_widget_cats_filter ul li a, .etheme-category-grid-item .etheme-category-ajax",function(e){e.preventDefault(),t(w(this))}),w(document).on("click",r+" .et-reset-price",function(e){e.preventDefault();var e=w(this).parents(".etheme-price-filter form, .elementor-widget-woocommerce-etheme_woocommerce_price_filter form"),t=e.find("#min_price"),i=e.find("#max_price"),a=e.find("#min_price").data("min"),r=e.find("#max_price").data("max"),t=(t.val(a),i.val(r),w(document.body).trigger("price_slider_slide",[a,r]),w.each(w(".etheme-price-filter .ui-slider-handle, .elementor-widget-woocommerce-etheme_woocommerce_price_filter .ui-slider-handle"),function(e,t){n(w(t),!(1!=e),!0)}),n(w(".etheme-price-filter .ui-slider-range, .elementor-widget-woocommerce-etheme_woocommerce_price_filter .ui-slider-range"),!1,!1),e.attr("action")),i=t+"?"+e.find("input").not("#min_price, #max_price").serialize();ajaxFilters.load_data(i)}),w(document).on("price_slider_change",function(){var e;w(".et-reset-price").removeClass("hidden"),v.in_progress||!(e=w(this).find(".etheme-price-filter form, .elementor-widget-woocommerce-etheme_woocommerce_price_filter form").first())||e.length<1||(e=e.attr("action")+"?"+e.serialize(),ajaxFilters.load_data(e))}),w(document).on("click",r+" .widget_price_filter .button:not(.et-reset-price)",function(e){e.preventDefault(),v.in_progress||(e=(e=w(this).closest("form")).attr("action")+"?"+e.serialize().replace(/&?[^=]+=&|&[^=]+=$/g,""),ajaxFilters.load_data(e))})}function n(i,a,r){var n=setInterval(function(){var e,t=parseFloat(i.get(0).style.left);a?100<=t+.3?(i.css("left","100%"),clearInterval(n)):i.css("left",t+.3+"%"):t-.3<=0?(i.css("left",0),clearInterval(n)):i.css("left",t-.3+"%"),r&&(t=w(".etheme-price-filter .ui-slider-range, .elementor-widget-woocommerce-etheme_woocommerce_price_filter .ui-slider-range"),e=w(t).get(0).style.width,100<=parseFloat(e)+.3?t.css("width","100%"):t.css("width",parseFloat(e)+.3+"%"))},1)}w(document).on("change",r+" select.woocommerce-widget-layered-nav-dropdown",function(n){if(n.preventDefault(),!v.in_progress){let e=w(this),t=window.location.href,i=e.attr("class"),a="",r="";i=i.split(" "),w.each(i,function(e,t){t.includes("dropdown_layered_nav_")&&(a=t.replace("dropdown_layered_nav_",""))}),a="filter_"+a,(r=t.includes(a)?(n=e.parents("form").find("input[name="+a+"]").attr("value"),t.replace(a+"="+n,a+"="+e.val())):t.includes("?")?t.replace("?","?"+a+"="+e.val()+"&"):t+"?"+a+"="+e.val())&&ajaxFilters.load_data(r)}}),w(document).on("change",r+" .woocommerce-ordering select",function(e){w(this).parent().trigger("submit")}),w(document).on("submit",r+" .woocommerce-ordering",function(e){if(e.preventDefault(),!v.in_progress){let e=w(this),t=e.serializeArray(),i=new URL(window.location.href),a=new URLSearchParams(i.search),r,n;w.each(t,function(e,t){"orderby"==t.name&&(n=t.value)}),a.set("orderby",n),i.search=a.toString(),(r=i.toString())&&ajaxFilters.load_data(r)}}),w(document).on("click",r+" .view-switcher a, "+r+" .etheme-elementor-grid-list-switcher a",function(e){var t;e.preventDefault(),v.in_progress||(e=w(this).attr("href"),a&&(o=s),e&&(ajaxFilters.load_data(e),a||(e=w(this).attr("data-type"),t=w(this).parents(".filter-wrap").parent().find(".products-loop"),"grid"==e?t.removeClass("products-list").addClass("products-grid"):t.removeClass("products-grid").addClass("products-list"))))}),w(document).on("change",r+" .et-per-page-select",function(e){if(e.preventDefault(),!v.in_progress){let e=w(this),t=e.parents("form"),i=t.serializeArray(),a=window.location.href,r=(t.attr("action")&&(a=t.attr("action")),a=new URL(a),new URLSearchParams(a.search)),n,o="";w.each(i,function(e,t){"et_per_page"==t.name&&(o=t.value)}),r.delete("et_per_page"),r.set("et_per_page",o),a.search=r.toString(),(n=a.toString())&&ajaxFilters.load_data(n)}}),!a&&etAjaxFiltersConfig.woocommerceSettings.ajax_pagination&&w(document).on("click",".content-page .woocommerce-pagination ul li a",function(e){e.preventDefault(),v.in_progress||("1"!==w(this).text()?w(".woocommerce-page").addClass("et_paged"):w(".woocommerce-page").removeClass("et_paged"),ajaxFilters.load_data(w(this).attr("href")))})},reinit_price_filter:function(){if((void 0===v.reinit_price||!v.reinit_price)&&(v.reinit_price=!0,w(".price_slider").length)){if("undefined"==typeof woocommerce_price_slider_params)return!1;w("input#min_price, input#max_price").hide(),w(".price_slider, .price_label").show();let e=w(".price_slider_amount #min_price"),t=w(".price_slider_amount #max_price"),i=e.data("min"),a=t.data("max"),r=w(".price_slider_amount").data("step")||1,n=parseInt(e.val()?e.val():i,10),o=parseInt(t.val()?t.val():a,10);w(".price_slider").slider({range:!0,animate:!0,min:i,max:a,step:r,values:[n,o],create:function(){e.val(n),t.val(o),w(document.body).trigger("price_slider_create",[n,o])},slide:function(e,t){w("input#min_price").val(t.values[0]),w("input#max_price").val(t.values[1]),w(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){w(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}},load_data:function(e,t){a||w(".et-loader.product-ajax").addClass("loading"),w("body").addClass("ajax-progress"),v.in_progress=!0,v.reinit_price=!1;let i=e;i=(i=(i=(i=i.replace("?et_ajax=true&","?")).replace("?et_ajax=true","?")).replace("et_ajax=true&","")).replace("et_ajax=true",""),e.includes("?")?e=e.replace("?","?et_ajax=true&"):e+="?et_ajax=true",w.ajax({url:e,method:"GET",timeout:1e5,dataType:"text",beforeSend:function(){if(w(document).trigger("et_ajax_content_before_load"),etAjaxFiltersConfig.scroll_top_after_ajax){let t=0;if(a){var e=w(r).find(".elementor-widget-woocommerce-etheme_archive_products");if(e.length)t=e.offset().top;else{let e=w(r).find(".elementor-widget-etheme_product_grid[data-settings*=current_query]");(e.length||(e=w(r).find(".elementor-widget-etheme_product_list[data-settings*=current_query]")).length)&&(t=e.offset().top)}}else t=w(".content-page .main-products-loop > .products-loop").offset().top,w(".content-page .filter-wrap").length&&(t-=w(".content-page .filter-wrap").outerHeight());t-=110,w("html, body").animate({scrollTop:t},1e3)}a?w.each(s,function(e,t){"woocommerce-archive-etheme_grid_list"!=t&&(w(r).find(".elementor-widget-"+t+"[data-settings*=fadeInUp_animation]").addClass("etheme-reloading"),w(r).find(".elementor-widget-"+t+"[data-settings*=skeleton_animation]").addClass("etheme-reloading").addClass("etheme-skeleton-loading"),w(r).find(".elementor-widget-"+t+":not([data-settings*=fadeInUp_animation]):not([data-settings*=skeleton_animation])").addClass("etheme-loading"))}):(w(".sidebar.et-mini-content.active").removeClass("active"),w(".et-toggle-mob-sidebars-wrapper").removeClass("et-content-shown"),w("body").removeClass("off-canvas-sidebar-opened"))},success:function(u){if(a){if(o)w.each(o,function(e,t){let r=".elementor-widget-"+t,n=w(u).find(r);if(n.length){if("woocommerce-archive-etheme_grid_list"!=t){var t=n.is("[data-settings*=fadeInUp_animation]"),i=n.is("[data-settings*=skeleton_animation]");if(t||i){let i=t?100:0;n.find(".type-product").each(function(e,t){w(t).css("transition-delay",e*i+"ms").addClass("etheme-post-product-loading")})}}w.each(n,function(e,t){w(document).find(r+'[data-id="'+w(t).attr("data-id")+'"]').html(w(t).html());let i=w(document).find(r+'[data-id="'+w(t).attr("data-id")+'"]');var a;i.removeClass("etheme-reloading etheme-loading etheme-skeleton-loading"),-1<w.inArray(i.attr("data-widget_type").replace(".default",""),s)&&(t=n.is("[data-settings*=fadeInUp_animation]"),a=n.is("[data-settings*=skeleton_animation]"),(t||a)&&(setTimeout(function(){i.find(".type-product").removeClass("etheme-post-product-loading")},300),setTimeout(function(){i.find(".type-product").attr("style",null)},700)),a)&&(i.addClass("etheme-skeleton-loaded"),setTimeout(function(){i.removeClass("etheme-skeleton-loaded")},700)),window.elementorFrontend&&elementorFrontend.elementsHandler.runReadyTrigger(i)})}}),o=null;else{let n=!1,o=!1;w.each(w(u).find(r).find('[data-element_type="widget"]'),function(e,t){var i=".elementor-element",t=w(t);if(t.length){if(-1<w.inArray(t.attr("data-widget_type").replace(".default",""),s)){var a=t.is("[data-settings*=fadeInUp_animation]"),r=t.is("[data-settings*=skeleton_animation]");if(a||r){let i=a?100:0;t.find(".type-product").each(function(e,t){w(t).css("transition-delay",e*i+"ms").addClass("etheme-post-product-loading")})}}t.hasClass("elementor-widget-etheme_sidebar_horizontal")&&(n=!0,o=w(document).find(i+'[data-id="'+t.attr("data-id")+'"]').find(".etheme-elementor-sidebar").hasClass("filters-opened")),w(document).find(i+'[data-id="'+t.attr("data-id")+'"]').html(t.html()).removeClass("etheme-loading etheme-reloading");let e=w(document).find(i+'[data-id="'+t.attr("data-id")+'"]');e.removeClass("etheme-reloading etheme-loading etheme-skeleton-loading"),-1<w.inArray(t.attr("data-widget_type").replace(".default",""),s)&&(r=t.is("[data-settings*=fadeInUp_animation]"),a=t.is("[data-settings*=skeleton_animation]"),(r||a)&&(setTimeout(function(){e.find(".type-product").removeClass("etheme-post-product-loading")},300),setTimeout(function(){e.find(".type-product").attr("style",null)},700)),a)&&(e.addClass("etheme-skeleton-loaded"),setTimeout(function(){e.removeClass("etheme-skeleton-loaded")},700)),window.elementorFrontend&&elementorFrontend.elementsHandler.runReadyTrigger(e)}}),n&&(f=w(document).find(".elementor-widget-etheme_sidebar_horizontal_toggle")).length&&(f.addClass("etheme-elementor-reinit"),o&&w(document).find(".etheme-elementor-sidebar-horizontal").removeClass("hidden").attr("style",null).addClass("filters-opened"),window.elementorFrontend)&&elementorFrontend.elementsHandler.runReadyTrigger(f)}w(u).find(".etheme-elementor-sticky-column").length&&w(u).find(".etheme-elementor-sticky-column").each(function(e,t){elementorFrontend.elementsHandler.runReadyTrigger(t)})}else{let e=w(u).find(".products-loop").html(),t=w(u).find(".sidebar").html(),i=w(u).find(".shop-filters").html(),a=w(u).find(".after-shop-loop").html(),r=w(u).find(".empty-category-block").html(),n=w(u).find(".view-switcher").html(),o=w(u).find(".products-per-page").html(),s=w(u).find(".term-description.et_second-description").html(),l=w(u).find(".term-description:not(.et_second-description)").html(),d=w(".term-description:not(.et_second-description)"),c=w(".category-description"),m=c.length,p=w(u).find(".page-heading").html(),h=w(u).find(".page-heading").attr("style");(a=a&&(a=a.replace("?et_ajax=true","?")).replace("et_ajax=true",""))?(w(".content-page .after-shop-loop").html(a),w("nav.woocommerce-pagination").find("a").each(function(){var e=w(this).attr("href"),t=new URL(e);new URLSearchParams(t.search).toString()||w(this).prop("href",e.replace("?",""))})):w(".content-page .after-shop-loop").html("");var _,f=w(".content-page .products-loop"),g=w(".content-page .empty-category-block");if(w("body").hasClass("search-results")&&w(".products-title, .pages-result-slider, .posts-result-slider, .portfolios-result-slider").remove(),r?(f.html(""),g.length?(g.html(r),g.removeClass("hidden")):f.after('<div class="empty-category-block">'+r+"</div>")):(g.html("").addClass("hidden"),f.html(e)),n&&(g=f.attr("data-row-count"),_=w(u).find(".view-switcher").find(".switcher-active > a").attr("data-row-count"),w(".view-switcher").html(n),2<w(u).find(".view-switcher").find(".switch-grid").length)&&f.removeClass("row-count-"+g).addClass("row-count-"+_).attr("data-row-count",_),v.categories&&"inherit"!=etAjaxFiltersConfig.loop_prop_columns_category&&(g=f.attr("data-row-count"),f.removeClass("row-count-"+g).addClass("row-count-"+etAjaxFiltersConfig.loop_prop_columns_category).attr("data-row-count",etAjaxFiltersConfig.loop_prop_columns_category),v.categories=!1),o&&w(".products-per-page").html(o),p&&w(".page-heading").html(p),h?w(".page-heading").attr("style",h):w(".page-heading").attr("style",""),etAjaxFiltersConfig.ajax_categories){if(l){if(!d.length&&!m)switch(etAjaxFiltersConfig.product_page_banner_pos){case 4:w(".content-page").before('<div class="term-description"><div>');break;case 3:w(".content-page").prepend('<div class="term-description"><div>');break;case 1:w(".main-products-loop").prepend('<div class="term-description"><div>');break;default:w(".main-products-loop").append('<div class="term-description"><div>')}m?(c.html(l),ajaxFilters.reset_builders(etAjaxFiltersConfig.builder,c)):(d.html(l),ajaxFilters.reset_builders(etAjaxFiltersConfig.builder,d)),etAjaxFiltersConfig.builder.includes("elementor")&&((_=w(u).find("#elementor-frontend-inline-css").html())?w("#elementor-frontend-inline-css").html(_):w.each(w(u).find('[data-elementor-type="wp-post"]'),function(){var e=w(this).attr("data-elementor-id"),t=w(u).find("#elementor-post-"+e+"-css");w("#elementor-post-"+e+"-css").length||w("body").append(t)}))}else m?c.html():d.html("");s?(w(".term-description.et_second-description").length||w(".after-shop-loop").after('<div class=" term-description et_second-description"><div>'),w(".term-description.et_second-description").html(s),ajaxFilters.reset_builders(etAjaxFiltersConfig.builder,w(".term-description.et_second-description"))):w(".term-description.et_second-description").html("")}w(".fadeIn-slide").each(function(){w(this).addClass("fadedIn-slide"),setTimeout(function(){w(".fadeIn-slide").removeClass("fadedIn-slide").removeClass("fadeIn-slide")},700)}),w(".content-page .sidebar").html(t),ajaxFilters.reset_builders(etAjaxFiltersConfig.builder,w(".content-page .sidebar")),w(".content-page .shop-filters").html(i),ajaxFilters.reset_builders(etAjaxFiltersConfig.builder,w(".content-page .shop-filters"))}jQuery().selectWoo&&w.each(w("select.woocommerce-widget-layered-nav-dropdown"),function(){var e=w(this);jQuery(e).selectWoo({minimumResultsForSearch:5,width:"100%",language:{noResults:function(){return etAjaxFiltersConfig.notices.noMatchFound}}})}),w(".dropdown_product_cat").on("change",function(){var e,t;""!=w(this).val()?(t="",t=0<(e=etAjaxFiltersConfig.woocommerceSettings.home_url).indexOf("?")?e+"&product_cat="+w(this).val():e+"?product_cat="+w(this).val(),location.href=t):location.href=etAjaxFiltersConfig.woocommerceSettings.shop_url}),"undefined"==typeof woocommerce_price_slider_params&&(f=w(u).find(".et_woocommerce_price_slider_params").html(),w("body").prepend(f)),w(u).find(".widget_shopping_cart_content").length&&w(document.body).trigger("wc_fragment_refresh"),etTheme.AjaxElement(),v.apply_all_button&&w(document).find(".etheme-price-filter button, .elementor-widget-woocommerce-etheme_woocommerce_price_filter button").remove(),window.history.pushState("","",i),w(document).trigger("et_ajax_content_loaded")},error:function(e){etTheme.et_notice("ajax-filters","error")},complete:function(){w(".et-loader.product-ajax").removeClass("loading"),void 0!==etTheme.reinitSwatches&&etTheme.reinitSwatches(),void 0!==etTheme.contentProdImages&&etTheme.contentProdImages(),void 0!==window.hoverSlider&&(window.hoverSlider.init({}),window.hoverSlider.prepareMarkup()),void 0!==etTheme.countdown&&etTheme.countdown(),w("body").removeClass("swc-default-done"),void 0!==etTheme.widgetsOpenCloseDefault&&etTheme.widgetsOpenCloseDefault(),ajaxFilters.reinit_price_filter(),etTheme.resizeVideo(),etTheme.swiperFunc(),etTheme.secondInitSwipers(),etTheme.customCss(),etTheme.customCssOne(),void 0!==etTheme.sidebarCanvas&&etTheme.sidebarCanvas(),void 0!==etTheme.stickySidebar&&w(document.body).trigger("sticky_kit:recalc"),w(document).trigger("yith_wcwl_reload_fragments"),w("body").removeClass("ajax-progress"),v.in_progress=!1,etTheme.global_image_lazy(),void 0!==etTheme.widgetsShowMore&&(w(".et_widget-show-more").remove(),etTheme.widgetsShowMore()),t&&t(),void 0===window.select&&!w("#select2-css").length||w(document).find(".dropdown_product_cat").select2()}})},reset_builders:function(e,t){e.includes("elementor")&&w(t).find(".elementor-element").each(function(){elementorFrontend.elementsHandler.runReadyTrigger(w(this))}),e.includes("wpb")&&(w(window).resize(),w(t).find(".wpb_animate_when_almost_visible").removeClass("wpb_animate_when_almost_visible"))}},w(document).ready(function(){ajaxFilters.init()})}(jQuery);