!function(m){"use strict";m(window).on("elementor/frontend/init",function(){var n=elementorModules.frontend.handlers.Base.extend({onInit:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.run(),this.timeout=0,this.refreshFragmentsTimeout=0,this.refreshFragmentsTimeoutTime=0},getDefaultSettings:function(){return{selectors:{container:".etheme-elementor-off-canvas__container",main:".etheme-elementor-off-canvas__main",toggle:".etheme-elementor-off-canvas__toggle",toggleButton:".etheme-elementor-off-canvas__toggle_button",toggleWrapper:".etheme-elementor-off-canvas__toggle_wrapper",closeButton:".etheme-elementor-off-canvas__close-button",expandLink:".etheme_sidebar-widget-list-expand"},classes:{isShown:"etheme-elementor-off-canvas--active",bodyIsShown:"etheme-elementor-off-canvas--shown"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$container:this.$element.find(e.container),$main:this.$element.find(e.main),$toggleWrapper:this.$element.find(e.toggleWrapper),$closeButton:this.$element.find(e.closeButton)}},toggleCanvas(){this.isCanvasOpen?this.hideCanvas():this.showCanvas()},showCanvas(){var e,t;this.isCanvasOpen||(e=this.getSettings("classes"),t=this.getSettings("selectors"),this.isCanvasOpen=!0,this.$element.addClass(e.isShown),this.$element.find(t.toggleButton).attr("aria-expanded",!0),this.elements.$main.attr("aria-hidden",!1),this.elements.$container.attr("aria-hidden",!1),elementorFrontend.elements.$body.addClass(e.bodyIsShown))},hideCanvas(){var e,t;this.isCanvasOpen&&(e=this.getSettings("classes"),t=this.getSettings("selectors"),this.isCanvasOpen=!1,this.$element.removeClass(e.isShown),this.$element.find(t.toggleButton).attr("aria-expanded",!1),this.elements.$main.attr("aria-hidden",!0),this.elements.$container.attr("aria-hidden",!0),elementorFrontend.elements.$body.removeClass(e.bodyIsShown))},automaticallyOpenCanvas(){var e=this.getElementSettings();e.automatically_open_canvas&&"yes"===e.automatically_open_canvas&&(this.showCanvas(),void 0!==etTheme.closeQuickView&&etTheme.closeQuickView(),void 0!==etTheme.et_close_all_mini_content&&etTheme.et_close_all_mini_content(!1),m(".et-mobile-panel-wrapper").addClass("outside"))},refreshFragments(a,i){if(ElementorProFrontendConfig?.woocommerce&&!i?.e_manually_triggered){this.$element.addClass("processing");let o=this;clearTimeout(this.refreshFragmentsTimeout),this.refreshFragmentsTimeout=setTimeout(function(){let e=-1<m.inArray(a,["added_to_cart","xstore_wishlist/added_product","xstore_waitlist/added_product","xstore_compare/added_product"]),t=-1<m.inArray(a,["xstore_wishlist/added_product","xstore_waitlist/added_product","xstore_compare/added_product"]);var n={action:"etheme_elementor_menu_cart_fragments",nonce_type:"cart"};switch(n.is_editor=elementorFrontend.isEditMode(),a){case"xstore_wishlist_fragment_refreshed":case"xstore_waitlist_fragment_refreshed":case"xstore_compare_fragment_refreshed":switch(i.length<1?o.$element.find(".product_list-popup-footer-wrapper").hide():(o.$element.find(".product_list-popup-footer-wrapper").attr("style",null),n.products=i),a){case"xstore_wishlist_fragment_refreshed":n.nonce_type="wishlist",n._nonce=ElementorProFrontendConfig.woocommerce.etheme_wishlist.fragments_nonce;break;case"xstore_waitlist_fragment_refreshed":n.nonce_type="waitlist",n._nonce=ElementorProFrontendConfig.woocommerce.etheme_waitlist.fragments_nonce;break;default:n.nonce_type="compare",n._nonce=ElementorProFrontendConfig.woocommerce.etheme_compare.fragments_nonce}break;default:var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(elementorFrontend.isEditMode()&&elementorPro.modules.woocommerce.didManuallyTriggerAddToCartEvent(s))return!1;n._nonce=ElementorProFrontendConfig.woocommerce.menu_cart.fragments_nonce}const r=[];jQuery.each(elementorFrontend.documentsManager.documents,e=>{r.push(e)}),n.templates=r,jQuery.ajax({type:"POST",url:etConfig.ajaxurl,context:o,data:n,success(e){e?.fragments&&(jQuery.each(e.fragments,(e,t)=>{jQuery(e).replaceWith(t),setTimeout(function(){window.elementorFrontend&&jQuery(document).find(e).find(".elementor-element").each(function(e,t){elementorFrontend.elementsHandler.runReadyTrigger(t)})},300)}),m(document.body).trigger("et_calculate_cart_progress"),o.getElementSettings("linked_products"))&&etTheme.swiperFunc()},complete(){e&&o.automaticallyOpenCanvas(),t||o.$element.removeClass("processing")}})},this.refreshFragmentsTimeoutTime)}},bindEvents(){const t=this.getSettings("selectors");var e=this.getSettings("classes"),e=(this.isCanvasOpen=this.$element.hasClass(e.isShown),this.getElementSettings());"mouseover"===e.off_canvas_toggle_type?(this.elements.$toggleWrapper.on("mouseover click",t.toggleButton,e=>{e.preventDefault(),this.showCanvas()}),this.elements.$toggleWrapper.on("mouseleave",()=>this.hideCanvas())):this.elements.$toggleWrapper.on("click",t.toggleButton,e=>{e.preventDefault(),this.toggleCanvas()});let s=this;switch(m(document).on("et_mobile_panel_canvas_element_triggered",function(e,t,n){s.getWidgetType()===t&&s.getID()==n&&s.toggleCanvas()}),m(document).on("et_ajax_content_before_load",function(){s.isCanvasOpen&&s.hideCanvas()}),elementorFrontend.elements.$document.on("click",e=>{!this.isCanvasOpen||(e=jQuery(e.target)).closest(this.elements.$main).length||e.closest(t.toggle).length||e.closest(t.expandLink).length||this.hideCanvas()}),this.elements.$closeButton.on("click",e=>{e.preventDefault(),this.hideCanvas()}),elementorFrontend.elements.$document.on("keyup",e=>{27===e.keyCode&&this.hideCanvas()}),this.getWidgetType()){case"theme-etheme_cart":elementorFrontend.elements.$body.on("wc_fragments_refreshed removed_from_cart added_to_cart",(e,t)=>this.refreshFragments(e.type,t));break;case"theme-etheme_wishlist":elementorFrontend.elements.$document.on("xstore_wishlist_fragment_refreshed xstore_wishlist/added_product",(e,t)=>this.refreshFragments(e.type,t));break;case"theme-etheme_waitlist":elementorFrontend.elements.$document.on("xstore_waitlist_fragment_refreshed xstore_waitlist/added_product",(e,t)=>this.refreshFragments(e.type,t));break;case"theme-etheme_compare":elementorFrontend.elements.$document.on("xstore_compare_fragment_refreshed xstore_compare/added_product",(e,t)=>this.refreshFragments(e.type,t))}},unbindEvents(){},onElementChange:function(e){},run:function(){let e=this;var t=elementorFrontend.isEditMode();switch(t&&(this.refreshFragmentsTimeoutTime=1200),this.getWidgetType()){case"theme-etheme_cart":jQuery(document).ready(function(){e.refreshFragments("wc_fragments_loaded",{})});break;case"theme-etheme_wishlist":t&&(this.$element.addClass("processing"),jQuery(document).ready(function(){m(document).trigger("xstore_wishlist_force_fragment_refresh")}));break;case"theme-etheme_waitlist":t&&(this.$element.addClass("processing"),jQuery(document).ready(function(){m(document).trigger("xstore_waitlist_force_fragment_refresh")}));break;case"theme-etheme_compare":t&&(this.$element.addClass("processing"),jQuery(document).ready(function(){m(document).trigger("xstore_compare_force_fragment_refresh")}));break;case"theme-etheme_mobile_menu":jQuery(document).ready(function(){e.refreshFragments("wc_fragments_loaded",{})}),t&&(this.$element.addClass("processing"),jQuery(document).ready(function(){m(document).trigger("xstore_wishlist_force_fragment_refresh"),m(document).trigger("xstore_waitlist_force_fragment_refresh"),m(document).trigger("xstore_compare_force_fragment_refresh")}))}}});m.each(["etheme_sidebar","etheme_sidebar_off_canvas","theme-etheme_account","theme-etheme_cart","theme-etheme_wishlist","theme-etheme_waitlist","theme-etheme_compare","theme-etheme_mobile_menu"],function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/"+t+".default",function(e){elementorFrontend.elementsHandler.addHandler(n,{$element:e})})})})}(jQuery);