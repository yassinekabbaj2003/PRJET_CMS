!function(i){"use strict";etTheme.autoinit.cart_checkout_advanced=etTheme.cart_checkout_advanced=function(){function c(t=!0){var e;i(".etheme-cart-checkout-tab").length&&(e=i(".sales-booster-cart-countdown, .woocommerce-form-login-toggle, .woocommerce-form-coupon-toggle"),t?e.hide():e.show())}var a;let e=i(".etheme-cart-checkout-accordion");if(e.length||i(".etheme-cart-checkout-tab").length){var o=window.location.search,o=new URLSearchParams(o);if(o.has("step")){let t=o.get("step");e.length?setTimeout(function(){i("html, body").animate({scrollTop:i(".etheme-cart-checkout-accordion[data-step="+t+"]").offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-15})},100):"billing"==t?c(!1):c()}}e.on("click",".accordion-title",function(){let t=i(this).parents(".etheme-cart-checkout-accordion");t.hasClass("active")?(t.removeClass("active"),t.find(".accordion-content").slideUp()):(e.removeClass("active").find(".accordion-content").slideUp(),t.addClass("active"),t.find(".accordion-content").slideDown(),etTheme.et_global.w_width<=768&&setTimeout(function(){i("html, body").animate({scrollTop:t.offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-20},1e3)},500),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+t.attr("data-step")+"]").addClass("active"),i(document.body).trigger("sticky_kit:recalc"))}),i(document).on("click",".accordion-content .etheme-checkout-footer-step",function(t){var e=i(this).attr("data-step");e&&(t.preventDefault(),i(".etheme-cart-checkout-accordion[data-step="+e+"] .accordion-title").trigger("click"),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+e+"]").addClass("active"))}),i(document).on("click",".tab-content .etheme-checkout-footer-step",function(e){var a=i(this).attr("data-step");if(a){e.preventDefault(),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+a+"]").addClass("active"),i(".etheme-cart-checkout-tab").hide();let t=i(".etheme-cart-checkout-tab[data-step="+a+"]");t.fadeIn(),etTheme.et_global.w_width<=768&&setTimeout(function(){i("html, body").animate({scrollTop:t.offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-20},1e3)},300),i(document.body).trigger("sticky_kit:recalc"),"billing"==a?c(!1):c()}}),i(".cart-checkout-separated, .cart-checkout-multistep").on("click",".cart-checkout-nav-simple [data-step]",function(t){var e;i(this).hasClass("active")?t.preventDefault():(e=i(this).attr("data-step"),-1<i.inArray(e,["shopping-cart","order"])||(t.preventDefault(),i(".etheme-checkout-footer-step[data-step="+i(this).attr("data-step")+"]").first().trigger("click")))}),i(document).on("updated_cart_totals",function(){i(document.body).trigger("sticky_kit:recalc");var e=i(document).find(".et-cart-progress");e.length&&(e.block({message:null,overlayCSS:{opacity:.6}}),i.ajax({url:etConfig.ajaxurl,dataType:"json",method:"POST",data:{action:"etheme_update_cart_checkout_progress_bar"},success:function(t){e.replaceWith(t).unblock()}}))}),etConfig.advancedCartCheckout.sticky_sidebar&&993<=etTheme.et_global.w_width&&(a=i(".woocommerce-cart .cart-order-details, .woocommerce-checkout .cart-order-details .order-review"),i(document).on("click",a,function(t){var e;-1<i.inArray(t.target.tagName,["INPUT","TEXTAREA","SELECT","LABEL"])||(e=i(this).height(),setTimeout(function(){var t=a.height();e!==t&&i(document.body).trigger("sticky_kit:recalc")},100))}),o={offset_top:i("#header").hasClass("sticky")?i("#header > div").outerHeight():50,bottoming:!0,parent:".checkout-columns-wrap"},i("body").hasClass("cart-checkout-separated")&&(o.offset_top=0),a.stick_in_parent(o))}}(jQuery);