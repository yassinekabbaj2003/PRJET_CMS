window.et_panel=window.et_panel||{},function(i){window.et_panel=Object.assign(window.et_panel,{welcome_support_refresh:function(e,t){i(document).on("click",".et_support-refresh",function(e){e.preventDefault();var t=i(this).parents(".et_support-block"),a=t.find(".et_support-status"),o=i(".temp-msg");t.hasClass("processing")||(t.addClass("processing"),i.ajax({method:"POST",url:ajaxurl,dataType:"json",data:{action:"et_support_refresh"},success:function(e){"success"==e.status&&e.html&&(a.after(i(e.html).find(".et_support-status")),a.remove()),o.html(e.msg)},complete:function(e){t.removeClass("processing"),setTimeout(function(){o.html("")},1e3)},error:function(){t.removeClass("processing"),o.html("ajax error!")}}))})},welcome_theme_deactivate:function(e,t){t.preventDefault();var a=window.location.href;e.hasClass("new-theme-deactivate")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme",security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){"deleted"==e.status||"not_found"==e.status?(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a):jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"deregister",security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){i("body").addClass("et_panel-popup-on"),et_panel.popup_configuration.popup.html("").addClass("loading"),et_panel.popup_configuration.popup.prepend(et_panel.popup_configuration.closePopupIcon),et_panel.popup_configuration.popup.addClass("style-2 panel-popup-theme-deregister").append(e.content),i(".et_close-popup").on("click",function(){i(".et_theme-deactivator").removeClass("loading")}),et_panel.popup_configuration.popup.addClass("active").removeClass("loading"),i(".panel-popup-theme-deregister .et_close-popup").on("click",function(){jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme",security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}})})},error:function(e){alert("Ajax Error!")}})},error:function(e){alert("Error while deactivating")}}):confirm("Before proceeding with the deactivation of this domain, we want to confirm your decision. As part of our commitment to adhering to Envato's policy of 1 live site and 2 staging sites, we manually verify each domain to ensure compliance.")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme",security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}}):setTimeout(function(){e.removeClass("loading")},300)},welcome_registration_popup:function(e,t){t.preventDefault();var n=i("#purchase-code").val(),a=window.location.href;i(".et-message.et-error").remove(),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_check_activation_data",purchase_code:n,security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(o){"error"!=o.status?"old_type"==o.type?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_activate_theme",purchase_code:n,security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){},error:function(e){alert("Error while activation")},complete:function(){location.reload()}}):jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"registration",code:n,security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){i("body").addClass("et_panel-popup-on"),et_panel.popup_configuration.popup.html("").addClass("loading"),et_panel.popup_configuration.popup.prepend(et_panel.popup_configuration.closePopupIcon),et_panel.popup_configuration.popup.addClass("style-2 panel-popup-theme-registration").append(e.content),i(".et_close-popup").on("click",function(){i(".activate-license-btn-holder").removeClass("loading"),window.location=a}),et_panel.popup_configuration.popup.addClass("active").removeClass("loading"),i(".domain-selector").on("click",function(e){i(this).find('[name="domain_type"]').trigger("change").prop("checked",!0)}),i('[name="domain_type"]').on("change",function(e){var t=i(".popup-domain-confirm"),a=i(".domain-selectors");t.removeClass("enabled"),t.parents(".tooltip-container").removeClass("active"),i(".domain-selector.active").removeClass("active"),i(this).parents(".domain-selector").addClass("active"),i(".domain-api-error").remove(),i(this).is("#et_register_domain_type_staging")?void 0!==o.notice&&"staging_domains"==o.notice.type?a.after('<div class="et-message et-error domain-api-error">'+o.notice.notice+"</div>"):(t.addClass("enabled"),t.parents(".tooltip-container").addClass("active")):void 0!==o.notice&&"live_domains"==o.notice.type?a.after('<div class="et-message et-error domain-api-error">'+o.notice.notice+"</div>"):(t.addClass("enabled"),t.parents(".tooltip-container").addClass("active"))}),i(document).on("click",".popup-domain-confirm.enabled",function(){i(".popup-step").addClass("hidden"),i(".popup-step.step-2").removeClass("hidden"),i(".tooltip-trigger").addClass("hidden"),i(".popup-theme-register").removeClass("hidden")}),i(document).on("click",".popup-theme-register.enabled",function(){i(".steps-block-content").addClass("loading"),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_activate_theme",purchase_code:n,security:i(document).find('[name="nonce_etheme-theme-actions"]').val()},success:function(e){("success"==e.status?(i(".popup-step").addClass("hidden"),i(".popup-step.step-3").removeClass("hidden"),i(".tooltip-trigger").addClass("hidden"),i(".popup-go-to-import")):i(".registration-error").html(e.msg)).removeClass("hidden")},error:function(e){alert("Error while activation")},complete:function(){i(".steps-block-content").removeClass("loading")}})}),i(document).on("click",".popup-domain-confirm:not(.enabled), .popup-theme-register:not(.enabled)",function(e){e.preventDefault()}),i(".checkbox-steps").on("change",function(e){var t=i(this).prop("checked"),a=i(this).parents(".section-block"),o=i(".popup-theme-register");t?(a.addClass("enabled"),a.next(".section-block").removeClass("invisible"),i(this).parent().addClass("switched")):(a.removeClass("enabled"),i(this).parent().removeClass("switched")),i("#deregister-domain-section-1").prop("checked")&&i("#deregister-domain-section-2").prop("checked")?(o.addClass("enabled"),o.parents(".tooltip-container").addClass("active")):(o.removeClass("enabled"),o.parents(".tooltip-container").removeClass("active"))})},error:function(e){alert("Ajax Error!")},complete:function(){var e,t,a;i("#purchase-code").val((e=n,t=Math.floor(e.length/2),a=e.length-t,t="*".repeat(t),(e=e.slice(0,a))+t)),i(".activate-license-btn-holder").removeClass("loading")}}):(i(".etheme-panel-page-welcome").prepend(o.msg),i(".activate-license-btn-holder").removeClass("loading"))},error:function(e){alert("Error while deactivating")},complete:function(){}})},et_theme_refresh:function(e,t){e.addClass("loading-rotate")}});var e={1:{selector:"",type:"ready",callback:et_panel.welcome_support_refresh},2:{selector:".et_theme-deactivator",type:"click",callback:et_panel.welcome_theme_deactivate},3:{selector:".activate-license-btn-holder.popup-caller",type:"click",callback:et_panel.welcome_registration_popup},4:{selector:".et_theme-refresh",type:"click",callback:et_panel.et_theme_refresh}};i.each(e,function(e,t){"ready"==t.type?i(document).ready(function(e){t.callback(i(this),e)}):i(t.selector).on(t.type,function(e){t.callback(i(this),e)})})}(jQuery,window.et_panel);