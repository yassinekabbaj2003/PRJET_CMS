window.et_panel=window.et_panel||{},function(e){e(document).ready(function(o){window.et_panel=Object.assign(window.et_panel,{install_plugin_actions:function(n,e){var a,t=n.parents(".theme-builders-plugin").find(".builder-plugin-install"),l={action:"envato_setup_plugins",helper:"plugins",type:"et_plugins_actions",slug:n.attr("data-slug"),wpnonce:o(document).find(".et_plugin-nonce").attr("data-plugin-nonce")};n.addClass("loading"),t.text("").addClass("hidden"),o(".et_plugin-nonce").length?o(".et_filesystem").attr("data-filesystem")?(a=setInterval(function(){var e=n.find(".loader-percent"),t=e.attr("data-percent"),t=parseInt(t)+1;e.text(t+"%").attr("data-percent",t),90<=t&&clearInterval(a)},500),o.ajax({method:"POST",url:ajaxurl,data:l,success:function(e){""!=e.hash?o.ajax({method:"POST",url:e.url,data:e,success:function(e){var e=et_panel.check_data(e);e?(n.removeClass("loading"),clearInterval(a),t.text(e).removeClass("hidden")):(clearInterval(a),n.find(".loader-percent").text("100%").attr("data-percent",100),e=window.location.href,window.location.href=e+"&is_activated=1")},error:function(){n.removeClass("loading"),clearInterval(a),t.text("Ajax error!").removeClass("hidden")},complete:function(){}}):(n.removeClass("loading"),clearInterval(a),t.text("Ajax error!").removeClass("hidden"))},error:function(e){n.removeClass("loading"),clearInterval(a),t.text("Ajax error!").removeClass("hidden")},complete:function(e){}})):(n.removeClass("loading"),t.text("Unsupported filesystem method!").removeClass("hidden")):(n.removeClass("loading"),t.text("Unauthorized request!").removeClass("hidden"))},check_data:function(e){return e.includes("Destination folder already exists")?"Plugin installation failed, destination folder already exists":e.includes("Plugin installation failed")||e.includes("An error occurred while installing")?"Plugin installation failed":!!e.includes("We are unable to connect to the XStore API with the XStore theme. Please check your SSL certificate or white lists.")&&"We are sorry to inform you that the XStore theme is unable to connect to the XStore API. Please check your internet connection, server whitelists and SSL certificate."},et_delete_transient:function(e){e={action:"et_delete_transient",helper:"plugins",transient:e,wpnonce:o(document).find(".et_plugin-nonce").attr("data-plugin-nonce")};o.ajax({method:"POST",url:ajaxurl,data:e,success:function(e){},error:function(e){},complete:function(e){}})},builder_search:function(e,t){et_panel.panel_global_search(e,".etheme-search",".theme-builder",".theme-builder-name",function(){o(".theme-builder").removeClass("et-hide").removeClass("et-show")})},plugins_install_popup:function(t,e){e.preventDefault();o.ajax({method:"POST",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"install_theme_builder"},success:function(e){o("body").addClass("et_panel-popup-on"),et_panel.popup_configuration.popup.html("").addClass("loading"),et_panel.popup_configuration.popup.prepend(et_panel.popup_configuration.closePopupIcon),et_panel.popup_configuration.popup.addClass("style-2 panel-popup-theme-install_plugin").append(e.content),et_panel.popup_configuration.popup.addClass("active").removeClass("loading"),o(et_panel.popup_configuration.popup).on("click",".et_plugin-control",function(e){et_panel.install_plugin_actions(o(this),e)})},error:function(e){},complete:function(e){t.removeClass("loading")}})},plugins_after_remove:function(){null!==et_panel.global_get_parameter_by_name("is_activated")&&et_panel.global_remove_parameter_from_URL("is_activated","The plugin has been successfully installed!")},plugins_after_triggered_popup:function(){null!==et_panel.global_get_parameter_by_name("et_trigger_theme_builders_plugins_popup")&&et_panel.global_remove_parameter_from_URL("et_trigger_theme_builders_plugins_popup")}});var e={1:{selector:".et_plugin-control",type:"click",callback:et_panel.install_plugin_actions},2:{selector:".etheme-theme-builder-search",type:"keyup",callback:et_panel.builder_search},3:{selector:".trigger-theme-builders-plugins-popup",type:"click",callback:et_panel.plugins_install_popup},4:{selector:"",type:"ready",callback:et_panel.plugins_after_remove},5:{selector:"",type:"ready",callback:et_panel.plugins_after_triggered_popup}};o.each(e,function(e,t){"ready"==t.type?o(document).ready(function(e){t.callback(o(this),e)}):o(t.selector).on(t.type,function(e){t.callback(o(this),e)})})})}(jQuery,window.et_panel);