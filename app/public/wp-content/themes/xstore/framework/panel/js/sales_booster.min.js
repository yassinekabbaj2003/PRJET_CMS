window.et_panel=window.et_panel||{},function(e){e(document).ready(function(d){window.et_panel=Object.assign(window.et_panel,{sales_booster_page_actions:function(e,t){var a,n,o,i,s,r,l;d(".xstore-panel-grid-item-nonce").length&&(a=e.parents(".xstore-panel-grid-item"),n=a.attr("data-filter"),o=d(".error-text").text(),i=e.attr("data-action"),s=e.attr("data-theme-mod"),r=e.attr("data-theme-mod_url"),e={action:"et_sales_booster_feature_switcher",helper:"sales-booster",type:i,slug:e.attr("data-slug"),wpnonce:d(document).find(".xstore-panel-grid-item-nonce").attr("data-plugin-nonce")},l=a.find(".xstore-panel-grid-item-action-text"),s&&(e.theme_mod=!!s),d('.xstore-panel-grid-item-control:not([data-action="customizer_settings"])').css({"pointer-events":"none"}),a.addClass("in_progress"),l.text(l.attr("data-"+i)),d.ajax({method:"POST",url:ajaxurl,data:e,success:function(e){var t;n=n.replace("active","disabled"),a.attr("data-filter",n),a.removeClass("in_progress"),"activate"==i?(a.addClass("xstore-panel-grid-item-active"),a.find('.xstore-panel-grid-item-control[data-action="activate"]').addClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="preview"]').addClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="deactivate"]').removeClass("hidden"),s&&r?((t=a.find('.xstore-panel-grid-item-control[data-action="customizer_settings"]')).removeClass("hidden"),window.open(t.attr("href"),"_blank")):a.find('.xstore-panel-grid-item-control[data-action="settings"]').removeClass("hidden").trigger("click")):(a.removeClass("xstore-panel-grid-item-active"),a.find('.xstore-panel-grid-item-control[data-action="activate"]').removeClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="preview"]').removeClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="deactivate"]').addClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="settings"]').addClass("hidden"),a.find('.xstore-panel-grid-item-control[data-action="customizer_settings"]').addClass("hidden")),d('.et-filter[data-filter="all"]').trigger("click")},error:function(e){console.log(e),l.text(""),alert(o)},complete:function(e){d(".xstore-panel-grid-item-control").attr("style",null),l.text("")}}))},sales_booster_settings:function(t,e){e.preventDefault(),d(".xstore-panel-grid-item-nonce").length&&(e=t.data("info"),e={action:"et_sales_booster_feature_settings",helper:"sales-booster",slug:t.attr("data-slug"),name:e.title,description:e.description,wpnonce:d(document).find(".xstore-panel-grid-item-nonce").attr("data-plugin-nonce")},d.ajax({method:"POST",url:ajaxurl,data:e,success:function(e){d("body").addClass("et_panel-popup-on"),et_panel.popup_configuration.popup.html("").addClass("loading"),et_panel.popup_configuration.popup.prepend(et_panel.popup_configuration.closePopupIcon),et_panel.popup_configuration.popup.addClass("style-2 panel-popup-theme-sales_booster_feature_settings").append(e.content),et_panel.popup_configuration.popup.addClass("active").removeClass("loading")},error:function(e){},complete:function(e){t.removeClass("loading"),d(document).trigger("et_panel_popup_loaded",[et_panel.popup_configuration.popup])}}))},sales_booster_search:function(e,t){et_panel.panel_global_search(e,".etheme-search",".xstore-panel-grid-item",".xstore-panel-grid-item-name",function(){d(".xstore-panel-grid-item").removeClass("et-hide").removeClass("et-show"),d('.et-filter[data-filter="all"]').trigger("click")})},sales_booster_filter:function(e,t){let a=e.attr("data-filter");d(".et-filter").removeClass("active"),e.addClass("active"),d.each(d(".xstore-panel-grid-item"),function(){var e=d(this);e.attr("data-active-filter",a),-1!=e.attr("data-filter").indexOf(a)?e.removeClass("et-hide").removeClass("et-show"):e.removeClass("et-show").addClass("et-hide")}),e.parent().removeClass("active")},sales_booster_bind_events:function(e,t){var a=d(document).find("[data-save-tab=quantity_discounts] #type");a.on("change",function(){return d(document).find("[data-save-tab=quantity_discounts]").find(".sortable-item input[type=number][name*=_percentage]").parent().parent().find("h4").text(d(this).find("option:selected").text()+":"),!1}),a.trigger("change")}});var e={1:{selector:'.xstore-panel-grid-item-control[data-action="activate"], .xstore-panel-grid-item-control[data-action="deactivate"]',type:"click",callback:et_panel.sales_booster_page_actions},2:{selector:'.xstore-panel-grid-item-control[data-action="settings"]',type:"click",callback:et_panel.sales_booster_settings},3:{selector:".etheme-sale-booster-search",type:"keyup",callback:et_panel.sales_booster_search},4:{selector:".et-filter",type:"click",callback:et_panel.sales_booster_filter},5:{selector:"",type:"et_panel_popup_loaded",callback:et_panel.sales_booster_bind_events}};d.each(e,function(e,t){"ready"==t.type?d(document).ready(function(e){t.callback(d(this),e)}):d(document).on(t.type,t.selector,function(e){t.callback(d(this),e)})})})}(jQuery,window.et_panel);