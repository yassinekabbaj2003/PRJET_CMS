jQuery(document).ready(function(o){var n={popup:o(document).find(".et_panel-popup"),closePopupIcon:'<span class="et_close-popup et-button-cancel et-button">'+et_variation_gallery_admin.icons.close+"</span>",spinner:'<div class="et-loader ">'+et_variation_gallery_admin.icons.loader+"</div>"};o(".et-button:not(.no-loader)").on("click",function(){o(this).addClass("loading")}),o('[href="https://wpml.org/?aid=46060&affiliate_key=YI8njhBqLYnp&dr"], [href="https://wpkraken.io/?ref=8theme"], [href="https://overflowcafe.com/am/aff/go/8theme"], [href="http://www.bluehost.com/track/8theme"], [href="https://yithemes.com/product-category/plugins/?refer_id=1028760"], [href="https://www.siteground.com/index.htm?afcode=37f764ca72ceea208481db0311041c62"], [href="https://www.8theme.com/#price-section-anchor"]').attr("target","_blank"),o('[href="themes.php?page=install-required-plugins"]').remove(),o(document).on("click",".et_close-popup",function(e){if(o("body").hasClass("et_step-child_theme-step")&&!confirm(et_variation_gallery_admin.messages.skip_import))e.preventDefault();else if(o(this).hasClass("processing")&&!confirm(et_variation_gallery_admin.messages.skip_process))e.preventDefault();else{o(this).hasClass("reload")&&location.reload();let e=!1,t=(o(this).hasClass("hide-popup")&&(e=!0),o(".et_panel-popup"));t.addClass("inactive closing"),setTimeout(function(){t.removeClass("inactive")},20),setTimeout(function(){e?t.removeClass("active auto-size").addClass("hidden"):t.html("").removeClass("active auto-size"),t.removeClass("closing style-2"),o("body").removeClass("et_panel-popup-on").removeClass("et_step-child_theme-step")},300)}}),o("#toplevel_page_et-panel-theme-options > a").attr("href",et_variation_gallery_admin.wp_customize_url),o('#toplevel_page_et-panel-theme-options > a:not([href*="autofocus"])').on("mouseenter mouseleave",function(){var e,t;o(this).hasClass("loaded")||(t=(e=o("#wp-admin-bar-et-theme-settings-default")).find("li").length,o(this).parent().find(".wp-submenu-wrap").css({height:t<25?"210px":""}).addClass("et_top-bar-mega-menu-copy").html(e.html()),o(this).addClass("loaded"))}),o(document).on("mouseenter mouseleave",".et_adm-mega-menu-holder",function(){o(this).hasClass("opened")?o(this).removeClass("opened"):o(this).addClass("opened")}),o(document).ready(function(o){o("a[href*=post-new][href*=etheme_slides], a[href*=post-new][href*=etheme_mega_menus]").on("click",function(e){e.preventDefault();var e=new URL(e.currentTarget.href).searchParams.get("post_type"),t={action:"et_etheme_custom_post_type_create"};t.postType=e,t.security=o(document).find('[name="nonce_etheme-custom_post_type_create"]').val(),o.ajax({url:ajaxurl,method:"POST",data:t,dataType:"json",success:function(e){window.open(e.redirect_url,"_blank")},error:function(){}})})}),o(document).ready(function(a){var e=et_variation_gallery_admin.plugins.et_core_plugin,t=et_variation_gallery_admin.plugins.woocommerce,o=et_variation_gallery_admin.plugins.elementor;let s={theme_builders:{selector:"a.toplevel_page_et-panel-theme-builders",plugins:{"et-core-plugin":e}},sales_booster:{selector:"a.toplevel_page_et-panel-sales-booster",plugins:{"et-core-plugin":e,woocommerce:t}},email_builder:{selector:"a.toplevel_page_et-panel-email-builder",plugins:{"et-core-plugin":e,woocommerce:t}},etheme_mega_menus:{selector:"a.toplevel_page_et-panel-etheme_mega_menus_post_type",plugins:{"et-core-plugin":e,elementor:o}},etheme_slides:{selector:"a.toplevel_page_et-panel-etheme_slides_post_type",plugins:{"et-core-plugin":e,elementor:o}},staticblocks:{selector:"a.toplevel_page_et-panel-staticblocks_post_type",plugins:{"et-core-plugin":e}},etheme_portfolio:{selector:"a.toplevel_page_et-panel-etheme_portfolio_post_type",plugins:{"et-core-plugin":e}}};Object.keys(s).forEach(function(t){let o=!1;Object.keys(s[t].plugins).forEach(function(e){o||s[t].plugins[e]||(o=!0,a(s[t].selector).addClass("trigger-xstore-control-plugins-popup").attr("data-details",JSON.stringify({heading:a(s[t].selector).find(".wp-menu-name").text(),plugins:s[t].plugins,feature:t})),a(s[t].selector).attr("href","admin.php?page=et-panel-plugins&plugin="+Object.keys(s[t].plugins).join(",")))})}),a(document).find(".trigger-xstore-control-plugins-popup").length&&!a(document).find(".et_panel-popup").length&&(a("#wpwrap").prepend('<div class="et_panel-popup"></div>'),n.popup=a(document).find(".et_panel-popup")),a(document).on("click",".trigger-xstore-control-plugins-popup",function(e){e.preventDefault();let t=a(this);e=JSON.parse(t.attr("data-details")),e={action:"et_ajax_required_plugins_popup",type:"required_plugins",plugins:e.plugins,popup_heading:e.heading,feature:e.feature};a.ajax({method:"POST",url:ajaxurl,data:e,success:function(e){a("body").addClass("et_panel-popup-on"),n.popup.html("").addClass("loading"),n.popup.prepend(n.closePopupIcon),n.popup.addClass("style-2").append(e.content),n.popup.addClass("active").removeClass("loading")},error:function(e){},complete:function(e){t.removeClass("loading")}})})})});